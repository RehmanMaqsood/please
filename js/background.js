function clipboard_set(data){var copyDiv=document.createElement("input");copyDiv.contentEditable=!0,document.body.appendChild(copyDiv),copyDiv.value=data,copyDiv.unselectable="off",copyDiv.focus(),copyDiv.select(),document.execCommand("copy"),document.body.removeChild(copyDiv)}function removeAllCookiesForDomain(domain,callback){chrome.cookies.getAll({domain:domain},function(cookies){var len=cookies.length;if(!cookies||0==len)return void callback({});for(var itemsLeftToFinish=len,i=len-1;i>-1;i--){var cookie=cookies[i],cookieUrl=("."==cookie.domain.substr(0,1)?cookie.domain.substr(1):cookie.domain)+cookie.path;chrome.cookies.remove({name:cookie.name,url:"https://"+cookieUrl},function(){chrome.cookies.remove({name:cookie.name,url:"http://"+cookieUrl},function(){0==--itemsLeftToFinish&&callback(cookies)})})}})}chrome.runtime.onMessage.addListener(function(message,sender,sendResponse){return message.copy?clipboard_set(message.copy):"broadcast"===message.method?chrome.tabs.query({},function(tabs){for(var i=0;i<tabs.length;i++)chrome.tabs.sendMessage(tabs[i].id,message.message)}):"getCookie"===message.method?chrome.cookies.get({url:"http://app.vidiq.com",name:message.name},function(cookie){sendResponse(cookie)}):"setCookie"===message.method?(chrome.cookies.set({url:"http://app.vidiq.com/",name:"_vidiq.sess",value:message.cookie,expirationDate:(new Date).getTime()/1e3+31536e3}),sendResponse()):"removeCookie"===message.method?(chrome.cookies.getAll({domain:"app.vidiq.com"},function(cookies){for(var i=0;i<cookies.length;i++)chrome.cookies.remove({url:"http://app.vidiq.com"+cookies[i].path,name:cookies[i].name})}),sendResponse()):"removeTwitterCookies"===message.method?removeAllCookiesForDomain("mobile.twitter.com",function(){sendResponse()}):"getLocalStorage"===message.method&&sendResponse(localStorage),!0});